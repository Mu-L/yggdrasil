alucard-dracula: 为这个文件生成文档

GitHub Copilot: 该文件 `client_tcp_config.hpp` 主要用于定义 Yggdrasil 项目中 TCP 客户端配置的类型。以下是该文件的文档说明：

---

# 文件：client_tcp_config.hpp

## 简介

本头文件定义了 Yggdrasil 网络库中 TCP 客户端的配置类型。它通过条件编译支持模板和非模板两种配置方式，便于灵活扩展和兼容不同的配置需求。

## 版权声明

- 作者：xu yang
- 版权归 yggdrasil 所有，2010-2024
- 采用 MIT 许可证，允许自由使用、修改和分发，但需保留版权声明和许可信息。

## 主要内容

### 头文件保护

使用宏 `__YGGR_CLIENT_CLIENT_CONFIG_CLIENT_TCP_CONFIG_HPP__` 防止头文件重复包含。

### 依赖

- Yggdrasil 基础定义头文件 `yggrdef.h`
- 网络相关的冲突修复器、类型标签
- 客户端配置模板 `client_config_template.hpp`
- Boost.Asio 库

### 命名空间

所有内容均位于 `yggr::client::client_config` 命名空间下。

### 类型定义

- 如果未定义 `YGGR_TPL_CONFIG_USING_TPL`，则通过宏 `YGGR_PP_CLIENT_CONFIG_TEMPLATE_DECL` 声明 `client_tcp_config_type`，并指定类型标签为 `tag_client`。
- 如果定义了 `YGGR_TPL_CONFIG_USING_TPL`，则直接使用 `client_config_template` 模板类，并指定类型标签为 `tag_client`，定义 `client_tcp_config_type` 类型别名。

### 适用场景

该文件适用于需要统一管理 TCP 客户端配置的场景，便于后续扩展和维护。

---

如需更详细的 API 说明或用法示例，请补充具体需求。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: 以下是 `client_config_template.hpp` 文件的文档说明：

---

# 文件：client_config_template.hpp

## 简介

本头文件为 Yggdrasil 项目中的客户端配置模板，提供了统一的客户端配置结构和错误码定义方式。通过宏和模板，便于扩展和复用，适用于多种客户端类型的配置需求。

## 版权声明

- 作者：xu yang
- 版权归 yggdrasil 所有，2010-2024
- 采用 MIT 许可证，允许自由使用、修改和分发，但需保留版权声明和许可信息。

## 主要内容

### 头文件保护

使用宏 `__YGGR_CLIENT_CLIENT_CONFIG_CLIENT_CONFIG_TEMPLATE_HPP__` 防止头文件重复包含。

### 依赖

- Yggdrasil 基础定义头文件 `yggrdef.h`
- 错误码生成相关头文件 `error_make.hpp`
- 异常处理相关头文件 `exception.hpp` 和 `exception_sort.hpp`

### 命名空间

所有内容均位于 `yggr::client::client_config` 命名空间下。

### 宏定义

#### `YGGR_PP_CLIENT_CONFIG_TEMPLATE_DECL(__name__, Tag)`

- 用于快速声明一个带有错误码定义和消息的客户端配置结构体。
- 包含类型标签 `tag_type`，以及一组与客户端处理相关的错误码和对应的错误消息。

### 模板类

#### `template<typename Tag> struct client_config_template`

- 泛型客户端配置模板，`Tag` 用于标识配置类型。
- 内部定义了一组与客户端处理相关的错误码（如无效访问、无效主机和端口、空连接、连接分配内存不足、无效客户端等）。
- 每个错误码都配有对应的错误消息，便于异常处理和调试。

### 错误码定义

- 错误码范围由 `exception::exception_sort::E_code_start_3` 到 `E_code_end_3`。
- 支持的错误码包括：
  - `E_invalid_access`：无效访问
  - `E_invalid_host_and_port`：无效主机和端口
  - `E_empty_conn`：空连接
  - `E_invalid_conn_alloc`：连接分配内存不足
  - `E_invalid_client`：无效客户端

### 适用场景

该文件适用于需要统一管理和扩展客户端配置及错误处理的场景，便于后续维护和多客户端类型的支持。

---

如需更详细的 API 说明或用法示例，请补充具体需求。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: 以下是 `client_passive_tcp_start_mode.hpp` 文件的文档说明：

---

# 文件：client_passive_tcp_start_mode.hpp

## 简介

本头文件定义了 Yggdrasil 项目中客户端被动 TCP 启动模式的策略类模板 `client_passive_tcp_start_mode`，用于在 TCP 客户端场景下，处理连接建立后的数据接收、会话创建和错误处理等逻辑。该模式适用于服务端主动推送连接或数据的场景。

## 版权声明

- 作者：xu yang
- 版权归 yggdrasil 所有，2010-2024
- 采用 MIT 许可证，允许自由使用、修改和分发，但需保留版权声明和许可信息。

## 主要内容

### 头文件保护

使用宏 `__YGGR_CLIENT_START_MODE_CLIENT_PASSIVE_TCP_START_MODE_HPP__` 防止头文件重复包含。

### 依赖

- Yggdrasil 基础定义、网络相关类型、字节序转换
- 绑定与元组工具
- 静态断言与类型萃取工具
- Boost.Asio、Boost 类型萃取
- C 断言

### 命名空间

所有内容均位于 `yggr::client::start_mode` 命名空间下。

### 类模板

#### `template<typename Recv_Packet, typename Start_Data_Generator, typename Session_Creator> struct client_passive_tcp_start_mode`

- **模板参数说明**：
  - `Recv_Packet`：接收数据包类型
  - `Start_Data_Generator`：启动数据生成器类型
  - `Session_Creator`：会话创建器类型

- **主要成员类型**：
  - `recv_packet_type`：接收包类型
  - `start_data_generator`：启动数据生成器
  - `session_creator_type`：会话创建器
  - `start_data_type`：启动数据类型（由生成器定义）

- **主要成员函数**：
  - `operator()(ConnPtr pconn, Session_Mgr& smgr) const`  
    入口操作符，处理新连接，调用私有辅助函数进行后续处理。
  - `prv_create_helper(ConnPtr pconn, Session_Mgr_Ptr psmgr) const`  
    辅助函数，校验类型和指针有效性，发起异步数据接收，并绑定回调。
  - `s_handler_recv_eins(const boost::system::error_code& e, Packet& pak, ConnPtr pconn, Session_Mgr_Ptr psmgr)`  
    数据接收回调，处理数据包、创建会话、启动会话并发送数据到适配器。
  - `s_handler_recv_eins_error(ConnPtr pconn)`  
    错误回调，关闭连接。

- **类型安全与断言**：
  - 使用 `BOOST_MPL_ASSERT` 静态断言，确保会话管理器类型标签为 `tag_client`。
  - 运行时断言和空指针检查，保证健壮性。

### 适用场景

该文件适用于需要被动接收 TCP 连接并自动管理会话生命周期的客户端场景，便于实现高效、类型安全的网络通信逻辑。

---

如需更详细的 API 说明或用法示例，请补充具体需求。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: 以下是 `client_passive_udp_start_mode.hpp` 文件的文档说明：

---

# 文件：client_passive_udp_start_mode.hpp

## 简介

本头文件定义了 Yggdrasil 项目中客户端被动 UDP 启动模式的策略类模板 `client_passive_udp_start_mode`，用于在 UDP 客户端场景下，处理连接建立后的数据接收、会话创建、对象移动与交换等逻辑。该模式适用于服务端主动推送数据的 UDP 场景。

## 版权声明

- 作者：xu yang
- 版权归 yggdrasil 所有，2010-2024
- 采用 MIT 许可证，允许自由使用、修改和分发，但需保留版权声明和许可信息。

## 主要内容

### 头文件保护

使用宏 `__YGGR_CLIENT_START_MODE_CLIENT_PASSIVE_UDP_START_MODE_HPP__` 防止头文件重复包含。

### 依赖

- Yggdrasil 基础定义、网络相关类型、字节序转换
- 移动语义与对象交换工具
- 元编程与类型萃取工具
- Boost.Asio、Boost 类型萃取
- C 断言

### 命名空间

所有内容均位于 `yggr::client::start_mode` 命名空间下，并提供 `swap` 支持到 `std` 和 `boost` 命名空间。

### 类模板

#### `template<typename Recv_Packet, typename Start_Data_Generator, typename Session_Creator> struct client_passive_udp_start_mode`

- **模板参数说明**：
  - `Recv_Packet`：接收数据包类型
  - `Start_Data_Generator`：启动数据生成器类型
  - `Session_Creator`：会话创建器类型

- **主要成员类型**：
  - `recv_packet_type`：接收包类型
  - `start_data_generator`：启动数据生成器
  - `session_creator_type`：会话创建器
  - `start_data_type`：启动数据类型（由生成器定义）

- **构造与移动/拷贝支持**：
  - 支持默认、拷贝、移动构造与赋值
  - 支持 `swap` 操作，便于高效对象管理

- **主要成员函数**：
  - `operator()(ConnPtr pconn, Session_Mgr& smgr) const`  
    入口操作符，处理新连接，调用私有辅助函数进行后续处理。
  - `prv_create_helper(ConnPtr pconn, Session_Mgr_Ptr psmgr, recv_packet_type& pak)`  
    辅助函数，校验类型和指针有效性，生成启动数据，创建会话并启动。
  - `swap`  
    支持与其他同类型对象高效交换内部数据。

- **类型安全与断言**：
  - 使用 `BOOST_MPL_ASSERT` 静态断言，确保会话管理器类型标签为 `tag_client`。
  - 运行时断言和空指针检查，保证健壮性。

- **成员变量**：
  - `mutable recv_packet_type _pak;`  
    存储用于启动的接收包对象。

### swap 支持

- 提供 `swap` 函数模板，支持标准库和 Boost 的 `swap` 调用，便于容器和算法的高效操作。

### 适用场景

该文件适用于需要被动接收 UDP 数据并自动管理会话生命周期的客户端场景，便于实现高效、类型安全的网络通信逻辑，特别适合需要对象移动和高效交换的场合。

---

如需更详细的 API 说明或用法示例，请补充具体需求。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: 以下是 `basic_clt_handler.hpp` 文件的文档说明：

---

# 文件：basic_clt_handler.hpp

## 简介

本头文件定义了 Yggdrasil 项目中通用的客户端处理器模板类 `basic_clt_handler`，用于管理客户端的网络连接、协议注册、数据收发、会话管理等核心功能。该类高度模块化，支持 TCP/UDP 等多种协议，适用于多种客户端场景。

## 版权声明

- 作者：xu yang
- 版权归 yggdrasil 所有，2010-2024
- 采用 MIT 许可证，允许自由使用、修改和分发，但需保留版权声明和许可信息。

## 主要内容

### 头文件保护

使用宏 `__YGGR_CLIENT_TCP_CLIENT_HANDLER_HPP__` 防止头文件重复包含。

### 依赖

- Yggdrasil 基础定义、网络相关类型与工具
- 线程、系统控制、智能指针、容器安全封装
- Boost.Asio、类型萃取、断言等

### 命名空间

所有内容均位于 `yggr::client` 命名空间下，部分细节实现位于 `yggr::client::detail`。

### 细节实现

- `client_init`：用于初始化会话管理器和连接处理器的辅助结构体，支持拷贝和移动。
- `check_state_op`：根据协议类型（TCP/UDP）检查会话和连接状态的操作器。

### 主类模板

#### `template<...> class basic_clt_handler`

- **模板参数说明**：
  - `ClientConfig`：客户端配置类型
  - `Service_Handler`：服务处理器类型
  - `SessionMgr`：会话管理器类型
  - `OptionsSetter`：选项设置器类型（默认值）
  - `Connect_Handler`：连接处理器模板（默认 TCP）

- **主要成员类型**：
  - 会话管理器、适配器管理器、连接处理器、协议标签、错误类型等

- **主要成员函数**：
  - `connect`：发起网络连接，支持超时
  - `register_network_protocol`/`unregister_network_protocol`：注册/注销网络协议及适配器
  - `run`/`stop`/`clear`/`clear_sessions`：运行、停止、清理会话
  - `online_size`：获取在线会话数量
  - `send_packet`：发送数据包，支持多种参数组合
  - `access`/`access_of_all`：访问单个或全部会话，支持回调
  - `get_session_mgr`/`get_adapter_mgr_ptr`：获取会话管理器或适配器管理器指针
  - `check_state`：检查当前状态

- **类型安全与断言**：
  - 使用 `BOOST_MPL_ASSERT` 静态断言，确保配置类型与会话管理器类型标签一致
  - 运行时断言和空指针检查，保证健壮性

- **友元与继承**：
  - 禁止拷贝和移动（继承自 `noncopyable` 和 `nonmoveable`）
  - 友元类支持网络处理器和系统控制中心的集成

### 适用场景

该文件适用于需要统一管理客户端网络连接、协议注册、数据收发和会话生命周期的场景，便于实现高效、类型安全、可扩展的客户端通信逻辑。

---

如需更详细的 API 说明或用法示例，请补充具体需求。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: 以下是 `client.hpp` 文件的文档说明：

---

# 文件：client.hpp

## 简介

本头文件定义了 Yggdrasil 项目中通用的客户端包装类模板 `client`，用于对底层 Handler 进行统一封装，简化客户端对象的构造与生命周期管理。该类支持 C++11 可变参数模板和 Boost 预处理器两种构造方式，兼容不同编译环境。

## 版权声明

- 作者：xu yang
- 版权归 yggdrasil 所有，2010-2024
- 采用 MIT 许可证，允许自由使用、修改和分发，但需保留版权声明和许可信息。

## 主要内容

### 头文件保护

使用宏 `__YGGR_CLIENT_CLIENT_HPP__` 防止头文件重复包含。

### 依赖

- Yggdrasil 基础定义
- 参数宏工具 `foo_params.hpp`

### 命名空间

所有内容均位于 `yggr::client` 命名空间下。

### 类模板

#### `template<typename Handler> class client`

- **模板参数说明**：
  - `Handler`：底层处理器类型（如 `basic_clt_handler`）

- **主要成员类型**：
  - `base_type`：Handler 类型别名

- **构造与析构**：
  - 支持 C++11 可变参数模板构造，自动转发参数给 Handler
  - 若不支持可变参数模板，则通过 Boost 预处理器宏生成多参数构造函数
  - 析构函数默认

- **成员函数继承**：
  - 公开继承 Handler 的 `join`、`run`、`stop` 等接口，便于直接调用

### 适用场景

该文件适用于需要对底层 Handler 进行统一封装和管理的客户端场景，便于扩展、复用和简化客户端对象的构造与生命周期控制。

---

如需更详细的 API 说明或用法示例，请补充具体需求。