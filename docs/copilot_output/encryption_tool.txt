alucard-dracula: 为这个文件生成文档

GitHub Copilot: blowfish_tool.hpp 文档

---

# blowfish_tool.hpp 文档

## 概述

blowfish_tool.hpp 提供了一个基于 Blowfish 算法的加解密工具模板类 `blowfish_tool`，支持自定义密钥长度和加密模式。该工具适用于需要对数据进行对称加密和解密的场景，封装了密钥管理、加解密流程，并对异常和内存管理做了安全处理。

## 主要内容

### 命名空间

- `yggr::encryption_tool`：加密工具相关代码的命名空间。

### 主要类

#### `template<u32 Key_Len = 8, u32 Mode = CBlowFish::ECB> class blowfish_tool`

- **模板参数**
  - `Key_Len`：密钥长度，默认为8字节，且必须为8的倍数。
  - `Mode`：Blowfish 加密模式，默认为 ECB。

- **类型定义**
  - `blowfish_type`：Blowfish 算法实现类型。
  - `blowfish_ptr_type`：Blowfish 算法智能指针类型。
  - `value_type`：密钥字节类型（u8）。
  - `key_type`：密钥智能指针类型。

- **构造与赋值**
  - 支持默认构造、密钥构造、拷贝构造、移动构造、拷贝赋值、移动赋值。
  - 支持 swap 操作。

- **主要成员函数**
  - `void init(const Oth_Key& oth_key)`：用外部密钥初始化。
  - `void init(void)`：自动生成随机密钥初始化。
  - `bool encrypt(Buffer& buf) const`：加密数据缓冲区。
  - `bool decrypt(Buffer& buf) const`：解密数据缓冲区。
  - `std::pair<key_type, u32> get_key(void) const`：获取当前密钥及长度。

- **内部实现**
  - 加密时会对数据进行填充，保证长度为8字节的倍数，并在数据头部存储原始长度。
  - 解密时会校验长度并恢复原始数据。

### 其他

- 提供了 `swap` 支持，方便与标准库和 Boost 兼容。
- 通过 `is_reductionable_tool` 进行类型特性标记。

## 依赖

- 依赖 `CBlowFish` 实现、`blowfish_exception` 异常类，以及 yggr 框架下的多种工具和容器。

## 适用场景

适用于需要高效对称加密/解密的 C++ 项目，尤其是基于 yggr 框架的网络通信、数据存储等场景。

---

如需生成 Doxygen 风格注释或更详细的函数级文档，请告知。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: hmacsha1_tool.hpp 文档

---

# hmacsha1_tool.hpp 文档

## 概述

hmacsha1_tool.hpp 提供了 HMAC-SHA1 加密工具类 `hmacsha1_tool`，用于生成和校验基于 SHA1 的消息认证码（HMAC）。该工具支持密钥管理、签名生成、签名与字符串的互转，适用于数据完整性和认证场景。

## 主要内容

### 命名空间

- `yggr::encryption_tool`：加密工具相关代码的命名空间。

### 主要类

#### `class hmacsha1_tool`

- **常量定义**
  - `E_HMACSHA1_SIZE`：HMAC-SHA1 签名长度（字节数）。
  - `E_HMACSHA1_STRING_BUF_SIZE`：签名字符串缓冲区长度（通常为签名字节数的2倍）。
  - `E_HMACSHA1_STRING_LEAST_SIZE`：签名字符串最小长度。
  - `E_default_key_size`：默认密钥长度。

- **类型定义**
  - `value_type`：密钥字节类型（u8）。
  - `key_type`：密钥智能指针类型。
  - `sig_type`：签名类型（定长字节数组）。
  - `check_type`：校验类型（同签名类型）。

- **构造与赋值**
  - 支持默认构造、密钥构造、拷贝构造、移动构造、拷贝赋值、移动赋值。
  - 支持 swap 操作。

- **主要成员函数**
  - `void init(void)`：自动生成随机密钥初始化。
  - `void init(const Oth_Key& oth_key)`：用外部密钥初始化。
  - `std::pair<key_type, u32> get_key(void) const`：获取当前密钥及长度。
  - `sig_type encrypt(const Buffer& buf) const`：对数据进行 HMAC-SHA1 签名。
  - `static yggr::string sig_to_code(const sig_type& sig, ...)`：签名转字符串（支持多字符集）。
  - `static bool code_to_sig(sig_type& sig, const String& code, ...)`：字符串转签名。

- **静态工具函数**
  - 提供签名与字符串的互转，支持多字符集和分配器。

### 其他

- 提供了 `swap` 支持，方便与标准库和 Boost 兼容。
- 依赖 SHA1 算法实现、字符集转换工具、智能指针等。

## 依赖

- 依赖 `SHA1` 实现、yggr 框架下的多种工具和容器。

## 适用场景

适用于需要基于 HMAC-SHA1 进行数据完整性校验、消息认证的 C++ 项目，尤其是基于 yggr 框架的网络通信、数据存储等场景。

---

如需生成 Doxygen 风格注释或更详细的函数级文档，请告知。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: hmacsha256_tool.hpp 文档

---

# hmacsha256_tool.hpp 文档

## 概述

hmacsha256_tool.hpp 提供了 HMAC-SHA256 加密工具类 `hmacsha256_tool`，用于生成和校验基于 SHA256 的消息认证码（HMAC）。该工具支持密钥管理、签名生成、签名与字符串的互转，适用于数据完整性和认证场景。

## 主要内容

### 命名空间

- `yggr::encryption_tool`：加密工具相关代码的命名空间。

### 主要类

#### `class hmacsha256_tool`

- **常量定义**
  - `E_HMACSHA256_SIZE`：HMAC-SHA256 签名长度（字节数）。
  - `E_HMACSHA256_STRING_BUF_SIZE`：签名字符串缓冲区长度（通常为签名字节数的2倍）。
  - `E_HMACSHA256_STRING_LEAST_SIZE`：签名字符串最小长度。
  - `E_default_key_size`：默认密钥长度。

- **类型定义**
  - `value_type`：密钥字节类型（u8）。
  - `key_type`：密钥智能指针类型。
  - `sig_type`：签名类型（定长字节数组）。
  - `check_type`：校验类型（同签名类型）。

- **构造与赋值**
  - 支持默认构造、密钥构造、拷贝构造、移动构造、拷贝赋值、移动赋值。
  - 支持 swap 操作。

- **主要成员函数**
  - `void init(void)`：自动生成随机密钥初始化。
  - `void init(const Oth_Key& oth_key)`：用外部密钥初始化。
  - `std::pair<key_type, u32> get_key(void) const`：获取当前密钥及长度。
  - `sig_type encrypt(const Buffer& buf) const`：对数据进行 HMAC-SHA256 签名。
  - `static yggr::string sig_to_code(const sig_type& sig, ...)`：签名转字符串（支持多字符集）。
  - `static bool code_to_sig(sig_type& sig, const String& code, ...)`：字符串转签名。

- **静态工具函数**
  - 提供签名与字符串的互转，支持多字符集和分配器。

### 其他

- 提供了 `swap` 支持，方便与标准库和 Boost 兼容。
- 依赖 SHA256 算法实现、字符集转换工具、智能指针等。

## 依赖

- 依赖 `SHA256` 实现、yggr 框架下的多种工具和容器。

## 适用场景

适用于需要基于 HMAC-SHA256 进行数据完整性校验、消息认证的 C++ 项目，尤其是基于 yggr 框架的网络通信、数据存储等场景。

---

如需生成 Doxygen 风格注释或更详细的函数级文档，请告知。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: md5_tool.hpp 文档

---

# md5_tool.hpp 文档

## 概述

md5_tool.hpp 提供了 MD5 摘要工具类 `md5_tool`，用于生成和校验基于 MD5 算法的消息摘要。该工具支持签名生成、签名与字符串的互转，适用于数据完整性校验等场景。

## 主要内容

### 命名空间

- `yggr::encryption_tool`：加密工具相关代码的命名空间。

### 主要类

#### `class md5_tool`

- **常量定义**
  - `E_MD5_SIZE`：MD5 签名长度（16字节）。
  - `E_MD5_STRING_BUF_SIZE`：签名字符串缓冲区长度（32字节）。
  - `E_MD5_STRING_LEAST_SIZE`：签名字符串最小长度（33字节，含结尾符）。

- **类型定义**
  - `value_type`：字节类型（u8）。
  - `key_type`：密钥智能指针类型（MD5 实际不需要密钥，仅为接口统一）。
  - `sig_type`：签名类型（定长字节数组）。
  - `check_type`：校验类型（同签名类型）。

- **构造与赋值**
  - 支持默认构造、拷贝构造、移动构造、拷贝赋值、移动赋值。
  - 支持 swap 操作（MD5 工具本身无状态，swap 实现为空）。

- **主要成员函数**
  - `void init(void)` / `void init(const Oth_Key&)`：接口保留，MD5 实际不需要密钥。
  - `std::pair<key_type, u32> get_key(void) const`：返回空密钥和长度0。
  - `sig_type encrypt(const Buffer& buf) const`：对数据进行 MD5 摘要计算。
  - `static yggr::string sig_to_code(const sig_type& sig, ...)`：签名转字符串（支持多字符集）。
  - `static bool code_to_sig(sig_type& sig, const String& code, ...)`：字符串转签名。

- **静态工具函数**
  - 提供签名与字符串的互转，支持多字符集和分配器。

### 其他

- 提供了 `swap` 支持，方便与标准库和 Boost 兼容。
- 依赖 MD5 算法实现、字符集转换工具、智能指针等。

## 依赖

- 依赖 `md5` 实现、yggr 框架下的多种工具和容器。

## 适用场景

适用于需要基于 MD5 进行数据完整性校验、摘要生成的 C++ 项目，尤其是基于 yggr 框架的网络通信、数据存储等场景。

---

如需生成 Doxygen 风格注释或更详细的函数级文档，请告知。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: packet_cypher_tool.hpp 文档

---

# packet_cypher_tool.hpp 文档

## 概述

packet_cypher_tool.hpp 提供了通用的数据包加解密工具模板类 `packet_cypher_tool`，用于将任意加密工具（如 Blowfish、HMAC、MD5 等）包装为可直接对数据包对象进行加密和解密的工具。该工具适用于网络通信、数据传输等需要对数据包整体加解密的场景。

## 主要内容

### 命名空间

- `yggr::encryption_tool`：加密工具相关代码的命名空间。

### 主要类

#### `template<typename Tool> class packet_cypher_tool`

- **模板参数**
  - `Tool`：实际的加密/解密工具类型（需满足 `is_reductionable_tool`）。

- **继承关系**
  - 继承自 `Tool`，可直接调用其加解密接口。

- **构造与初始化**
  - 支持变参模板构造和初始化（C++11），也支持宏展开的多参数构造（兼容旧编译器）。
  - 构造时自动调用底层加密工具的 `init` 方法。

- **主要成员函数**
  - `void init(Args... args)`：初始化底层加密工具。
  - `bool encrypt(Packet& pak) const`：对数据包进行加密，自动调用包的 `cypher` 方法，并绑定底层工具的 `encrypt`。
  - `bool decrypt(Packet& pak) const`：对数据包进行解密，自动调用包的 `cypher` 方法，并绑定底层工具的 `decrypt`。

- **类型特性**
  - 通过 `is_reductionable_tool` 继承底层工具的可还原性特性。

## 依赖

- 依赖 yggr 框架下的 bind、类型检查、宏工具等。

## 适用场景

适用于需要对自定义数据包类型进行统一加解密操作的 C++ 项目，尤其是基于 yggr 框架的网络通信、协议封装等场景。

---

如需生成 Doxygen 风格注释或更详细的函数级文档，请告知。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: safe_packet_tool.hpp 文档

---

# safe_packet_tool.hpp 文档

## 概述

safe_packet_tool.hpp 提供了安全数据包加解密工具模板类 `safe_packet_tool`，将加密工具与校验工具结合，实现数据包的加密和完整性校验。该工具适用于需要同时保证数据机密性和完整性的场景，如网络通信、数据传输等。

## 主要内容

### 命名空间

- `yggr::encryption_tool`：加密工具相关代码的命名空间。

### 主要类

#### `template<typename Encryption_Tool, typename Check_Tool> class safe_packet_tool`

- **模板参数**
  - `Encryption_Tool`：实际的加密/解密工具类型（需满足 `is_reductionable_tool`）。
  - `Check_Tool`：校验工具类型（如 HMAC、MD5 等）。

- **类型定义**
  - `key_type`：密钥类型（与加密工具一致）。
  - `encrypt_key_type`：加密工具密钥类型。
  - `check_key_type`：校验工具密钥类型。

- **构造与初始化**
  - 支持默认构造、拷贝构造。
  - 支持变参模板初始化（C++11）和宏展开的多参数初始化（兼容旧编译器）。
  - 可分别初始化加密工具和校验工具。

- **主要成员函数**
  - `void init(Args... args)`：初始化加密工具。
  - `void init_encrypt_tool(Args... args)`：单独初始化加密工具。
  - `void init_check_tool(Args... args)`：单独初始化校验工具。
  - `std::pair<encrypt_key_type, u32> get_key() const`：获取加密工具密钥。
  - `std::pair<check_key_type, u32> get_check_tool_key() const`：获取校验工具密钥。
  - `bool encrypt(Buffer& buf) const`：对数据包加密并附加校验码。
  - `bool decrypt(Buffer& buf) const`：解密数据包并校验完整性。

- **加解密流程**
  - 加密时，先用校验工具生成校验码，拼接到数据前，再整体加密。
  - 解密时，先解密，再分离校验码和数据，校验通过才返回数据。

- **类型特性**
  - 通过 `is_reductionable_tool` 继承加密工具的可还原性特性。

## 依赖

- 依赖 yggr 框架下的类型检查、宏工具等。

## 适用场景

适用于需要对数据包进行加密并保证完整性的 C++ 项目，尤其是基于 yggr 框架的网络通信、协议封装等场景。

---

如需生成 Doxygen 风格注释或更详细的函数级文档，请告知。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: sha1_tool.hpp 文档

---

# sha1_tool.hpp 文档

## 概述

sha1_tool.hpp 提供了 SHA1 摘要工具类 `sha1_tool`，用于生成和校验基于 SHA1 算法的消息摘要。该工具支持签名生成、签名与字符串的互转，适用于数据完整性校验等场景。

## 主要内容

### 命名空间

- `yggr::encryption_tool`：加密工具相关代码的命名空间。

### 主要类

#### `class sha1_tool`

- **常量定义**
  - `E_SHA1_SIZE`：SHA1 签名长度（字节数）。
  - `E_SHA1_STRING_BUF_SIZE`：签名字符串缓冲区长度（通常为签名字节数的2倍）。
  - `E_SHA1_STRING_LEAST_SIZE`：签名字符串最小长度。

- **类型定义**
  - `value_type`：字节类型（u8）。
  - `key_type`：密钥智能指针类型（SHA1 实际不需要密钥，仅为接口统一）。
  - `sig_type`：签名类型（定长字节数组）。
  - `check_type`：校验类型（同签名类型）。

- **构造与赋值**
  - 支持默认构造、拷贝构造、移动构造、拷贝赋值、移动赋值。
  - 支持 swap 操作（SHA1 工具本身无状态，swap 实现为空）。

- **主要成员函数**
  - `void init(void)` / `void init(const Oth_Key&)`：接口保留，SHA1 实际不需要密钥。
  - `std::pair<key_type, u32> get_key(void) const`：返回空密钥和长度0。
  - `sig_type encrypt(const Buffer& buf) const`：对数据进行 SHA1 摘要计算。
  - `static yggr::string sig_to_code(const sig_type& sig, ...)`：签名转字符串（支持多字符集）。
  - `static bool code_to_sig(sig_type& sig, const String& code, ...)`：字符串转签名。

- **静态工具函数**
  - 提供签名与字符串的互转，支持多字符集和分配器。

### 其他

- 提供了 `swap` 支持，方便与标准库和 Boost 兼容。
- 依赖 SHA1 算法实现、字符集转换工具、智能指针等。

## 依赖

- 依赖 `SHA1` 实现、yggr 框架下的多种工具和容器。

## 适用场景

适用于需要基于 SHA1 进行数据完整性校验、摘要生成的 C++ 项目，尤其是基于 yggr 框架的网络通信、数据存储等场景。

---

如需生成 Doxygen 风格注释或更详细的函数级文档，请告知。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: sha256_tool.hpp 文档

---

# sha256_tool.hpp 文档

## 概述

sha256_tool.hpp 提供了 SHA256 摘要工具类 `sha256_tool`，用于生成和校验基于 SHA256 算法的消息摘要。该工具支持签名生成、签名与字符串的互转，适用于数据完整性校验等场景。

## 主要内容

### 命名空间

- `yggr::encryption_tool`：加密工具相关代码的命名空间。

### 主要类

#### `class sha256_tool`

- **常量定义**
  - `E_SHA256_SIZE`：SHA256 签名长度（字节数）。
  - `E_SHA256_STRING_BUF_SIZE`：签名字符串缓冲区长度（通常为签名字节数的2倍）。
  - `E_SHA256_STRING_LEAST_SIZE`：签名字符串最小长度。

- **类型定义**
  - `value_type`：字节类型（u8）。
  - `key_type`：密钥智能指针类型（SHA256 实际不需要密钥，仅为接口统一）。
  - `sig_type`：签名类型（定长字节数组）。
  - `check_type`：校验类型（同签名类型）。

- **构造与赋值**
  - 支持默认构造、拷贝构造、移动构造、拷贝赋值、移动赋值。
  - 支持 swap 操作（SHA256 工具本身无状态，swap 实现为空）。

- **主要成员函数**
  - `void init(void)` / `void init(const Oth_Key&)`：接口保留，SHA256 实际不需要密钥。
  - `std::pair<key_type, u32> get_key(void) const`：返回空密钥和长度0。
  - `sig_type encrypt(const Buffer& buf) const`：对数据进行 SHA256 摘要计算。
  - `static yggr::string sig_to_code(const sig_type& sig, ...)`：签名转字符串（支持多字符集）。
  - `static bool code_to_sig(sig_type& sig, const String& code, ...)`：字符串转签名。

- **静态工具函数**
  - 提供签名与字符串的互转，支持多字符集和分配器。

### 其他

- 提供了 `swap` 支持，方便与标准库和 Boost 兼容。
- 依赖 SHA256 算法实现、字符集转换工具、智能指针等。

## 依赖

- 依赖 `SHA256` 实现、yggr 框架下的多种工具和容器。

## 适用场景

适用于需要基于 SHA256 进行数据完整性校验、摘要生成的 C++ 项目，尤其是基于 yggr 框架的网络通信、数据存储等场景。

---

如需生成 Doxygen 风格注释或更详细的函数级文档，请告知。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: tool_buf_size.hpp 文档

---

# tool_buf_size.hpp 文档

## 概述

tool_buf_size.hpp 提供了加密工具缓冲区大小的类型萃取模板 `tool_buf_size`，以及相关的宏定义，便于为不同加密工具类型统一获取其缓冲区大小（如摘要长度、签名长度等），常用于泛型编程和模板元编程场景。

## 主要内容

### 命名空间

- `yggr::encryption_tool`：加密工具相关代码的命名空间。

### 主要模板与宏

#### `template<typename Tool> struct tool_buf_size`

- 默认继承自 `boost::mpl::integral_c<u32, 0>`，即默认缓冲区大小为0。
- 可通过特化为具体加密工具类型指定实际缓冲区大小。

#### 宏定义

- `YGGR_ENCRYPTION_TOOL_TOOL_BUF_SIZE(__type__, __size__)`
  - 用于为指定类型 `__type__` 显式特化 `tool_buf_size`，缓冲区大小为 `__size__`。
- `YGGR_ENCRYPTION_TOOL_DEFED_TOOL_BUF_SIZE(__type__, __def__)`
  - 用于为指定类型 `__type__` 显式特化 `tool_buf_size`，缓冲区大小取自类型内的静态常量 `__def__`。

## 适用场景

适用于需要在模板代码中统一获取不同加密工具缓冲区大小的 C++ 项目，尤其是泛型加密、摘要、签名等场景。

---

如需生成 Doxygen 风格注释或更详细的用法示例，请告知。

alucard-dracula: 为这个文件生成文档

GitHub Copilot: tool_type_check.hpp 文档

---

# tool_type_check.hpp 文档

## 概述

tool_type_check.hpp 提供了加密工具类型特性萃取模板 `is_reductionable_tool`，用于在模板元编程中判断某类型是否为“可还原工具”（如支持加解密、签名/验签等）。该机制便于在泛型代码中进行类型约束和静态断言。

## 主要内容

### 命名空间

- `yggr::encryption_tool`：加密工具相关代码的命名空间。

### 主要模板

#### `template<typename T> struct is_reductionable_tool`

- 默认继承自 `boost::mpl::false_`，即所有类型默认都不是“可还原工具”。
- 具体加密工具类型可通过特化该模板，将其设为 `boost::mpl::true_`，以便在模板代码中进行类型判断和静态断言。

## 适用场景

适用于需要在模板代码中区分加密工具类型特性、进行类型约束和静态断言的 C++ 项目，尤其是泛型加密、解密、签名等场景。

---

如需生成 Doxygen 风格注释或更详细的用法示例，请告知。