---
`database_command.hpp` 文档

# 文件概述

该头文件定义了 `yggr::database_system::database_command` 模板类，是数据库操作命令的通用封装。该类用于描述一次数据库操作的类型、目标表、操作后缀等关键信息，并支持序列化、拷贝、移动等操作，便于在任务中心、分布式系统等场景下传递和管理数据库命令。

---

## 命名空间

- `yggr::database_system`

---

## 主要模板类

### `database_command`

#### 模板参数
- `Pak_ID`：包ID类型，默认 `u32`。
- `Ver`：版本号类型，默认 `u16`。
- `Task_Data_Info`：任务数据类型，默认 `task_center::default_task_data_info_type`。

#### 主要类型定义
- `pak_id_type`、`pak_ver_type`、`task_data_info_type`：类型适配。
- `tb_names_type`：表名数组类型（`std::vector<std::string>`）。

#### 主要成员变量
- `_op_str`：操作字符串（如"select"、"insert"等）。
- `_type_str`：类型字符串（如表结构类型名）。
- `_tb_names`：表名数组。
- `_postfix_str`：SQL后缀字符串（如条件、排序等）。

#### 主要接口

- 构造与赋值
  - 支持默认、参数、拷贝、移动构造与赋值，兼容 C++11 及更早标准。
  - `swap` 方法支持高效交换内容。

- 访问器
  - `id()`：生成唯一命令ID（基于操作和类型字符串）。
  - `get_tb_names()`：获取表名数组。
  - `get_postfix_str()`：获取SQL后缀字符串。

- 任务中心集成
  - `YGGR_FAST_CAL_TASK_IMPORT` 宏：便于与任务中心系统集成，实现序列化、分发等功能。

---

## 技术要点

- **命令封装**：统一描述数据库操作的关键信息，便于调度、日志、分发。
- **类型安全**：模板参数可自定义，适应不同业务需求。
- **高效拷贝/移动**：支持现代C++的拷贝、移动语义，提升性能。
- **与任务系统集成**：可直接作为任务中心的数据类型，支持分布式、异步处理。

---

## 适用场景

- 需要统一封装和传递数据库操作命令的分布式系统、任务中心、异步调度等场景。
- 需要对数据库操作进行唯一标识、日志记录、类型安全管理的场景。

---

## 版权声明

```
Copyright (c) 2010-2022 yggdrasil
MIT License
```

---

如需详细用法，请参考构造函数、成员函数及相关宏定义。

